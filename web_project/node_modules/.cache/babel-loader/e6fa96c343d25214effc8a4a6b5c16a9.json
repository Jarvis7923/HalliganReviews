{"ast":null,"code":"var _jsxFileName = \"/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/src/components/navigation/DropDownMenu.jsx\";\nimport React from \"react\";\nimport \"./DropDownMenu.css\";\n\nconst DropDownItem = props => {\n  const resetAttribute = () => {\n    props.setAttributes(prev => ({ ...prev,\n      queryStr: \"\",\n      showCancelButton: \"hidden\",\n      showDropDown: false\n    }));\n  };\n\n  if (props.isText) return /*#__PURE__*/React.createElement(\"a\", {\n    href: `/search/${props.attributes.queryStr}`.toLowerCase(),\n    className: \"search-drop-down-text\",\n    onClick: () => {\n      resetAttribute();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, \"Search for \", props.attributes.queryStr);\n  const {\n    department,\n    number,\n    subnumber,\n    title\n  } = props.data;\n  const {\n    semester,\n    year\n  } = props.data.availOption[0];\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: `/course/${department}/${number}/${subnumber}/${year}/${semester}`.toLowerCase(),\n    className: \"search-drop-down-link\",\n    onClick: e => {\n      resetAttribute();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"search-drop-down-link-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, department, number), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, title));\n};\n\nconst DropDownMenu = props => {\n  const wrapperRef = React.useRef(null);\n  React.useEffect(() => {\n    function handleClickOutside(event) {\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\n        props.setAttributes(prev => ({ ...prev,\n          showDropDown: false\n        }));\n      }\n    } // Bind the event listener\n\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapperRef,\n    className: \"search-drop-down-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DropDownItem, {\n    isText: true,\n    candidate: props.candidate,\n    attributes: props.attributes,\n    setAttributes: props.setAttributes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), props.candidate.map((x, i) => {\n    return /*#__PURE__*/React.createElement(DropDownItem, {\n      key: i,\n      data: x,\n      attributes: props.attributes,\n      setAttributes: props.setAttributes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    });\n  }));\n};\n\nexport default DropDownMenu;","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/src/components/navigation/DropDownMenu.jsx"],"names":["React","DropDownItem","props","resetAttribute","setAttributes","prev","queryStr","showCancelButton","showDropDown","isText","attributes","toLowerCase","department","number","subnumber","title","data","semester","year","availOption","e","DropDownMenu","wrapperRef","useRef","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","candidate","map","x","i"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport \"./DropDownMenu.css\";\n\nconst DropDownItem = (props) => {\n  const resetAttribute = () => {\n    props.setAttributes((prev) => ({\n      ...prev,\n      queryStr: \"\",\n      showCancelButton: \"hidden\",\n      showDropDown: false,\n    }));\n  };\n  if (props.isText)\n    return (\n      <a\n        href={`/search/${props.attributes.queryStr}`.toLowerCase()}\n        className='search-drop-down-text'\n        onClick={() => {\n          resetAttribute();\n        }}>\n        Search for {props.attributes.queryStr}\n      </a>\n    );\n\n  const {\n    department,\n    number,\n    subnumber,\n    title,\n  } = props.data;\n    \n  const { semester, year } = props.data.availOption[0];\n\n  return (\n    <a\n      href={`/course/${department}/${number}/${subnumber}/${year}/${semester}`.toLowerCase()}\n      className='search-drop-down-link'\n      onClick={(e) => {\n        resetAttribute();\n      }}>\n      <span className='search-drop-down-link-header'>\n        {department}\n        {number}\n      </span>\n      <span>{title}</span>\n    </a>\n  );\n};\n\nconst DropDownMenu = (props) => {\n  const wrapperRef = React.useRef(null);\n  React.useEffect(() => {\n    function handleClickOutside(event) {\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\n        props.setAttributes((prev) => ({\n          ...prev,\n          showDropDown: false,\n        }));\n      }\n    }\n    // Bind the event listener\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [props]);\n\n  return (\n    <div\n      ref={wrapperRef}\n      className='search-drop-down-menu'\n      >\n      <DropDownItem\n        isText\n        candidate={props.candidate}\n        attributes={props.attributes}\n        setAttributes={props.setAttributes}\n      />\n      {props.candidate.map((x, i) => {\n        return (\n          <DropDownItem\n            key={i}\n            data={x}\n            attributes={props.attributes}\n            setAttributes={props.setAttributes}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default DropDownMenu;\n"]},"metadata":{},"sourceType":"module"}